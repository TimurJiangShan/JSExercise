{"ast":null,"code":"import _slicedToArray from \"/Users/zhaojiangshan/Desktop/JSExercise/JSExercise/hooks-examples/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/zhaojiangshan/Desktop/JSExercise/JSExercise/hooks-examples/src/ImperativeHandle.js\";\nimport React, { useState, useRef, useImperativeHandle, forwardRef } from \"react\";\nvar ElaborateInput = forwardRef(function (_ref, ref) {\n  var hasError = _ref.hasError,\n      placeholder = _ref.placeholder,\n      value = _ref.value,\n      update = _ref.update;\n  var inputRef = useRef();\n  useImperativeHandle(ref, function () {\n    return {\n      focus: function focus() {\n        inputRef.current.focus();\n      }\n    };\n  });\n  return React.createElement(\"input\", {\n    ref: inputRef,\n    value: value,\n    onChange: function onChange(e) {\n      return update(e.target.value);\n    },\n    placeholder: placeholder,\n    style: {\n      padding: \"5px 15px\",\n      borderWidth: \"3px\",\n      borderStyle: \"solid\",\n      borderColor: hasError ? \"crimson\" : \"#999\",\n      borderRadius: \"5px\",\n      margin: \"0 10px\",\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  });\n});\n\nvar ImperativeHandleComponent = function ImperativeHandleComponent() {\n  var _useState = useState(\"Seattle\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      city = _useState2[0],\n      setCity = _useState2[1];\n\n  var _useState3 = useState(\"WA\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      state = _useState4[0],\n      setState = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  var cityEl = useRef();\n  var stateEl = useRef();\n\n  function validate() {\n    // lol I found it on StackOverflow : https://stackoverflow.com/a/25677072\n    if (!/^([a-zA-Z\\u0080-\\u024F]+(?:. |-| |'))*[a-zA-Z\\u0080-\\u024F]+$/.test(city)) {\n      setError(\"city\");\n      cityEl.current.focus();\n      return;\n    }\n\n    if (!/^[A-Z]{2}$/.test(state)) {\n      setError(\"state\");\n      stateEl.current.focus();\n      return;\n    }\n\n    setError(\"\");\n    alert(\"valid form!\");\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"useImperativeHandle Example\"), React.createElement(ElaborateInput, {\n    hasError: error === \"city\",\n    placeholder: \"City\",\n    value: city,\n    update: setCity,\n    ref: cityEl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(ElaborateInput, {\n    hasError: error === \"state\",\n    placeholder: \"State\",\n    value: state,\n    update: setState,\n    ref: stateEl,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: validate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Validate Form\"));\n};\n\nexport default ImperativeHandleComponent;","map":{"version":3,"sources":["/Users/zhaojiangshan/Desktop/JSExercise/JSExercise/hooks-examples/src/ImperativeHandle.js"],"names":["React","useState","useRef","useImperativeHandle","forwardRef","ElaborateInput","ref","hasError","placeholder","value","update","inputRef","focus","current","e","target","padding","borderWidth","borderStyle","borderColor","borderRadius","margin","textAlign","ImperativeHandleComponent","city","setCity","state","setState","error","setError","cityEl","stateEl","validate","test","alert"],"mappings":"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","sourcesContent":["import React, {\n  useState,\n  useRef,\n  useImperativeHandle,\n  forwardRef\n} from \"react\";\n\nconst ElaborateInput = forwardRef(\n  ({ hasError, placeholder, value, update }, ref) => {\n    const inputRef = useRef();\n    useImperativeHandle(ref, () => {\n      return {\n        focus() {\n          inputRef.current.focus();\n        }\n      };\n    });\n    return (\n      <input\n        ref={inputRef}\n        value={value}\n        onChange={e => update(e.target.value)}\n        placeholder={placeholder}\n        style={{\n          padding: \"5px 15px\",\n          borderWidth: \"3px\",\n          borderStyle: \"solid\",\n          borderColor: hasError ? \"crimson\" : \"#999\",\n          borderRadius: \"5px\",\n          margin: \"0 10px\",\n          textAlign: \"center\"\n        }}\n      />\n    );\n  }\n);\n\nconst ImperativeHandleComponent = () => {\n  const [city, setCity] = useState(\"Seattle\");\n  const [state, setState] = useState(\"WA\");\n  const [error, setError] = useState(\"\");\n  const cityEl = useRef();\n  const stateEl = useRef();\n\n  function validate() {\n    // lol I found it on StackOverflow : https://stackoverflow.com/a/25677072\n    if (\n      !/^([a-zA-Z\\u0080-\\u024F]+(?:. |-| |'))*[a-zA-Z\\u0080-\\u024F]+$/.test(\n        city\n      )\n    ) {\n      setError(\"city\");\n      cityEl.current.focus();\n      return;\n    }\n\n    if (!/^[A-Z]{2}$/.test(state)) {\n      setError(\"state\");\n      stateEl.current.focus();\n      return;\n    }\n\n    setError(\"\");\n    alert(\"valid form!\");\n  }\n\n  return (\n    <div>\n      <h1>useImperativeHandle Example</h1>\n      <ElaborateInput\n        hasError={error === \"city\"}\n        placeholder={\"City\"}\n        value={city}\n        update={setCity}\n        ref={cityEl}\n      />\n      <ElaborateInput\n        hasError={error === \"state\"}\n        placeholder={\"State\"}\n        value={state}\n        update={setState}\n        ref={stateEl}\n      />\n      <button onClick={validate}>Validate Form</button>\n    </div>\n  );\n};\n\nexport default ImperativeHandleComponent;\n"]},"metadata":{},"sourceType":"module"}